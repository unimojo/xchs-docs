<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>XCHS White Paper</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="how/index.html"><strong aria-hidden="true">2.</strong> How It Works</a></li><li class="chapter-item expanded "><a href="how/inscribe.html"><strong aria-hidden="true">3.</strong> How to Inscribe</a></li><li class="chapter-item expanded "><a href="how/burn.html"><strong aria-hidden="true">4.</strong> How to 'Burn' It</a></li><li class="chapter-item expanded "><a href="ops/index.html"><strong aria-hidden="true">5.</strong> Operations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ops/deploy.html"><strong aria-hidden="true">5.1.</strong> Deploy</a></li><li class="chapter-item expanded "><a href="ops/mint.html"><strong aria-hidden="true">5.2.</strong> Mint</a></li><li class="chapter-item expanded "><a href="ops/transfer.html"><strong aria-hidden="true">5.3.</strong> Transfer</a></li></ol></li><li class="chapter-item expanded "><a href="xsip/index.html"><strong aria-hidden="true">6.</strong> XSIP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="xsip/xsip-1-proposal.html"><strong aria-hidden="true">6.1.</strong> XSIP-1: XCHS Improvement Proposal</a></li><li class="chapter-item expanded "><a href="xsip/xsip-2-indexer.html"><strong aria-hidden="true">6.2.</strong> XSIP-2: Decentralized Indexer</a></li><li class="chapter-item expanded "><a href="xsip/xsip-3-smart-contract.html"><strong aria-hidden="true">6.3.</strong> XSIP-3: Flexible Smart Contract</a></li><li class="chapter-item expanded "><a href="xsip/xsip-4-exchange-by-offer.html"><strong aria-hidden="true">6.4.</strong> XSIP-4: Exchange by Offer</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="misc/about.html"><strong aria-hidden="true">7.</strong> About Us</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">XCHS White Paper</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>XCHS is an inscription protocol on the Chia blockchain. It introduces a novel format by incorporating an account model into the UTXO-based Chia ecosystem. Diverging from inscription protocols on other blockchains, such as Bitcoin and Ethereum, XCHS leverages a unique feature in Chia - memos.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<ul>
<li><strong>Information Value:</strong> Differing from solutions like smart contracts, L2, sidechains, etc., XCHS exists as a protocol inscription, aiming to not only strengthen but also streamline the value transmission of the first-layer blocks of Chia in an efficient and applicable manner.</li>
<li><strong>Distributed Confirmation:</strong> XCHS is implemented through Chia's memo system, bypassing the need for smart coins/contracts and avoiding the often complex ChiaLisp processes. It uses Chia's established regulations to handle memos, leveraging Chia's robust Satoshi coefficient to achieve expansive distributed message validation.</li>
<li><strong>Immutable:</strong> The core mission of XCHS is to foster decentralization, democratization, and fairness. It enables ordinary users to participate at nearly zero cost.</li>
<li><strong>Infinite Expansion:</strong> XCHS offers a more economical alternative to Non-Fungible Tokens (NFTs) in the Chia ecosystem. In the future, it also aims to present an economic alternative to the handling of complex and difficult Chialisp smart coins, thereby broadening opportunities for all users within the Chia blockchain.</li>
</ul>
<h2 id="comparison"><a class="header" href="#comparison">Comparison</a></h2>
<div class="table-wrapper"><table><thead><tr><th></th><th>Low Fee</th><th>Smart Contract</th><th>Account Model</th></tr></thead><tbody>
<tr><td>BTC</td><td>‚ùå</td><td>‚ùå</td><td>‚ùå</td></tr>
<tr><td>BRC-20</td><td>‚ùå</td><td>‚úÖ</td><td>‚ùå</td></tr>
<tr><td>ETH</td><td>‚ùå</td><td>‚úÖ</td><td>‚úÖ</td></tr>
<tr><td>ETHS</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ</td></tr>
<tr><td>XCH</td><td>‚úÖ</td><td>‚úÖ</td><td>‚ùå</td></tr>
<tr><td>XCHS</td><td>‚úÖ</td><td>‚úÖ</td><td>‚úÖ</td></tr>
</tbody></table>
</div>
<p>It's easy to discover that BRC-20 revolutionizes BTC by integrating smart contracts, while ETHS augments Ethereum with low fees. Given that XCH already boasts of low fees and superior Chialisp (smart contract). But it is still complicated for DEX to achieve high throughput due to the absence of an Account Model. However, the implementation of an Account Model in XCHS will truly make DeFi more captivating in XCH, like never before.</p>
<h2 id="xsip-xchs-improvement-proposal"><a class="header" href="#xsip-xchs-improvement-proposal">XSIP (XCHS Improvement Proposal)</a></h2>
<p>All upcoming features will be implemented following the <a href="./xsip/index.html">XSIP</a> process, and no explicit roadmap is planned to be provided.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-it-works"><a class="header" href="#how-it-works">How It Works</a></h1>
<ul>
<li>Only standard XCH addresses are valid receiving addresses. If you send to other types of addresses, they will not be recognized and will ultimately lead to losses.</li>
<li>XCHS may not be compatible with current trading infrastructure, please use with caution.</li>
<li>Although XCH is also based on the UTXO model like Bitcoin, there are some differences in detail. I won't go into detail here, but please note that the working methods with BRC-20 will be somewhat different.</li>
<li>XCHS does not need to specially <code>mint</code> a one-time-use transfer inscription like in BRC-20, you can directly send fund with an inscription to the target address.</li>
<li>Only the first deployed ticker is effective, subsequent tickers with the same name will be ignored. Note that tickers are case insensitive, but you can write in your preferred style when deploying. The indexer can display this original name as needed.</li>
<li>If by chance two <code>deploy</code> inscriptions appear in the same block, the first one will be taken as effective.</li>
<li>The validity of <code>mint</code> is determined in the same way as deployment, first come first served.</li>
<li>Only <code>mint</code> and <code>transfer</code> will change the balance, while Deploy will not.</li>
<li>The user who exceeds the maximum value at the first <code>mint</code> can get the remaining amount. Any <code>mint</code> that exceeds the maximum value afterwards will be invalid.</li>
<li>XCHS can be completely independent of XCH, that is, an account may not have any XCH but have a balance of XCHS. Furthermore, in wallets that support gasless, you can directly pay gas with XCHS to complete transactions.</li>
<li>The maximum supply should not exceed the maximum value: 9007199254740991</li>
<li>When <code>transfer</code> your token in XCHS protocol, be sure to inscibe in the coin with correct sender address. Some wallet client might not properly select the correct coin. Nevertheless, even if the wrong sender address is used, your funds will not be lost; but the operation might be ineffective.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-inscribe"><a class="header" href="#how-to-inscribe">How to inscribe?</a></h1>
<h2 id="easy-way--use-pawket-to-inscribe"><a class="header" href="#easy-way--use-pawket-to-inscribe">Easy way : Use Pawket to inscribe</a></h2>
<ul>
<li>
<p>Please prepare your Pawket wallet ( <a href="https://info.pawket.app/download/">Download here</a>) and ensure it contains a balance of at least 0.0005 XCH.</p>
</li>
<li>
<p>Click on the 'Inscribe' button at the bottom of the Pawket to enter the inscription page.
<img src="how/1.png" alt="image" /></p>
</li>
<li>
<p>Enter the Tick and Amount of the token you plan to inscribe(view the <a href="https://unimojo.io/#/xchs">Deployed List</a>.), such as &quot;xchs&quot; &quot;1000&quot;, and fill in the Receiver Address (the default receiver address is the primary address of your wallet).
<img src="how/2.png" alt="image" /></p>
</li>
<li>
<p>Choose an appropriate Network Fee. The Chia network supports zero-fee transactions, so you can choose not to fill this in, but doing so may cause longer transaction times. In case the network isn't congested, choosing a low/medium fee should suffice.</p>
</li>
<li>
<p>After signing in, Pawket will automatically calculate the cost of this inscription (including service fees paid to the wallet and network fees paid to the miners). Pawket charges a service fee of 0.0005 XCH for every inscription. Additionally, 1 mojo will be temporarily consumed as a cargo coin during the inscription process, but will return to your wallet afterwards, hence it does not count as part of the total cost.
<img src="how/3.png" alt="image" /></p>
</li>
<li>
<p>After confirming that all the information is correct, submit and wait for confirmation on the blockchain.</p>
</li>
</ul>
<h2 id="use-chia-client-to-inscribe"><a class="header" href="#use-chia-client-to-inscribe">Use Chia Client to inscribe</a></h2>
<ul>
<li>Please prepare your <a href="https://www.chia.net/downloads/">Chia client</a> and ensure that you have at least 1 mojo(which is 0.000000000001XCH) in your balance.</li>
<li>On the send interface, enter your own address, input any amount of XCH (at least 0.000000000001XCH), as well as the network fee (which can be 0).</li>
<li>Click on 'Add transaction memo', and type the following content like this(You can modify the content of 'tick' and 'amt' as needed):
<ul>
<li><code>{'p':'xchs','op':'mint','tick':'xchs','amt':'1000'}</code></li>
</ul>
</li>
<li>After checking all the above information for accuracy, click 'Send' to submit this transaction and wait for block confirmation.
<img src="how/4.png" alt="image" /></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-burn-it"><a class="header" href="#how-to-burn-it">How to 'Burn' It</a></h1>
<p>Certainly you won't want to burn it, so here is the guide how you might burn it and try to avoid them.</p>
<ul>
<li><code>transfer</code> XCHS funds to CAT address.
<ul>
<li>It's burned, and lost forever.</li>
<li>Someone might get used to copy addresses from blockchain explorer, but please never copy the CAT address.</li>
</ul>
</li>
<li><code>transfer</code> XCHS funds to random central exchange.
<ul>
<li>It depends, it might be dangerous.</li>
<li>Until safe exchange protocol like offer or DEX is introduced, trading without any trust could prove perilous.</li>
</ul>
</li>
</ul>
<h1 id="safe-scenarios"><a class="header" href="#safe-scenarios">Safe Scenarios</a></h1>
<p>Here listed some safe scenarios:</p>
<ul>
<li>Moving all XCH out of the account address.
<ul>
<li>üõ°Ô∏è It's safe.</li>
<li>You might need move some XCH back into this account to extract out these XCHS funds later.</li>
</ul>
</li>
<li>Inscribing a wrong inscription.
<ul>
<li>üõ°Ô∏è It's safe.</li>
<li>The catch is, this could end up being ineffective.</li>
</ul>
</li>
<li>Inscribing the <code>deploy</code> more than once or after someone already deployed the same tick.
<ul>
<li>üõ°Ô∏è It's safe.</li>
<li>But the later one have no impact. The limit or supply won't change since the very first deploy.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="protocol"><a class="header" href="#protocol">Protocol</a></h1>
<ul>
<li>The inscription of XCHS is inscribed in the transfer Memo of regular XCH.</li>
<li>The supported XCH transfer type is the standard XCH transfer type: <code>p2_delegated_puzzle_or_hidden_puzzle</code></li>
<li>Due to the limitations of Chialisp, there are slight differences compared to standard JSON: content must use single quotes <code>'</code>, and it is not allowed to have single or double quotes (<code>'</code>, <code>&quot;</code>) within the content.</li>
<li>The content of XCHS in the Memo includes only simple inscription:
<ul>
<li>Inscription: The content of the inscription. Please note to not include spaces, such as: <code>{'p':'xchs','op':'mint','tick':'xchs','amt':'1000'}</code></li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deploy"><a class="header" href="#deploy">Deploy</a></h1>
<p>In our documentation, we've chosen to use $XCHS as our example token. This is purely for demonstration purposes. However, the principles apply just the same to your chosen token. Just replace $XCHS with your token's name and you're good to go!</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'deploy',
  'tick': 'xchs',
  'max': '21000000',
  'lim': '1000'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>p</td><td>Yes</td><td>Protocol: Helps other systems identify and process XCHS events.</td></tr>
<tr><td>op</td><td>Yes</td><td>Operation: Type of event (Deploy, Mint, Transfer).</td></tr>
<tr><td>tick</td><td>Yes</td><td>Ticker: 4 letter identifier of the XCHS.</td></tr>
<tr><td>max</td><td>Yes</td><td>Max supply: set max supply of the XCHS.</td></tr>
<tr><td>lim</td><td>No</td><td>Mint limit: If letting users mint to themsleves, limit per mint.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mint"><a class="header" href="#mint">Mint</a></h1>
<p>If you're using an inscription service, be cautious. Some tools might inscribe the token to their own address first, then forward it to you, the customer. This means that the balance initially lands with the inscription service's address.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'mint',
  'tick': 'xchs',
  'amt': '1000'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>p</td><td>Yes</td><td>Protocol: Helps other systems identify and process XCHS events.</td></tr>
<tr><td>op</td><td>Yes</td><td>Operation: Type of event (Deploy, Mint, Transfer).</td></tr>
<tr><td>tick</td><td>Yes</td><td>Ticker: 4 letter identifier of the XCHS.</td></tr>
<tr><td>amt</td><td>Yes</td><td>Amount to mint: Amount of the XCHS to mint. *</td></tr>
</tbody></table>
</div>
<p>*Amount: Has to be less than 'lim' if stated during the deployment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="transfer"><a class="header" href="#transfer">Transfer</a></h1>
<p>Attention, some wallet implementation generate a different address each time. Make sure to send to the address that holds the balance.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'transfer',
  'tick': 'xchs',
  'amt': '100'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>p</td><td>Yes</td><td>Protocol: Helps other systems identify and process XCHS events.</td></tr>
<tr><td>op</td><td>Yes</td><td>Operation: Type of event (Deploy, Mint, Transfer).</td></tr>
<tr><td>tick</td><td>Yes</td><td>Ticker: 4 letter identifier of the XCHS.</td></tr>
<tr><td>amt</td><td>Yes</td><td>Amount to transfer: amount of the XCHS to transfer. *</td></tr>
</tbody></table>
</div>
<p>*Amount: if the amount is exceeding account balance, then this transfer is invalid.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xsip-list"><a class="header" href="#xsip-list">XSIP List</a></h1>
<div class="table-wrapper"><table><thead><tr><th>ID</th><th>Status</th><th>Category</th><th>Proposal</th></tr></thead><tbody>
<tr><td>1</td><td>LIVE</td><td>Consensus</td><td><a href="xsip/./xsip-1-proposal.html">XCHS Improvement Proposal</a></td></tr>
<tr><td>2</td><td>WIP</td><td>Consensus</td><td><a href="xsip/./xsip-2-indexer.html">Decentralized Indexer</a></td></tr>
<tr><td>3</td><td>WIP</td><td>Smart Contract</td><td><a href="xsip/./xsip-3-smart-contract.html">Flexible Smart Contract</a></td></tr>
<tr><td>4</td><td>WIP</td><td>Consensus</td><td><a href="xsip/./xsip-4-exchange-by-offer.html">Exchange by Offer</a></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="xsip-1-xchs-improvement-proposal"><a class="header" href="#xsip-1-xchs-improvement-proposal">XSIP-1: XCHS Improvement Proposal</a></h1>
<h2 id="what-are-xsips"><a class="header" href="#what-are-xsips">What are XSIPs?</a></h2>
<p>Proposals for improvement to the XCHS protocol. More information about standards and processes to come.
For now, the proposal format should similar to like EIP/CHIP.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xsip-2-decentralized-indexer"><a class="header" href="#xsip-2-decentralized-indexer">XSIP-2: Decentralized Indexer</a></h1>
<p><strong>WIP</strong></p>
<h2 id="abstract"><a class="header" href="#abstract">Abstract</a></h2>
<p>The proposal seeks to establish a decentralized indexing mechanism for inscription data. The aim is to address the issues tied to centralized indexes that can expose a protocol to risk if the singular indexer experience any problems, potential falsely issuing tokens or even leading to overall protocol stagnation. Decentralized indexing brings about improved security, flexibility and efficiency that can, in turn, spur further activity and growth within the ecosystem.</p>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>Presently, the structure of most inscription protocols relies heavily on centralized indexes. This concentration often resides with a single indexer or less commonly, a handful, proving inadequate for optimal performance and security. With data handled in off-chain servers, they make the protocol susceptible to vulnerability, disruption, and even falsification. The proposal to transition towards a decentralized indexing system stems from a need to strengthen security, boost operational efficiency, eliminate reliance on single entities, and foster organic growth within the ecosystem.</p>
<h2 id="specification"><a class="header" href="#specification">Specification</a></h2>
<p>The implementation of the decentralized indexing mechanism will utilize the XCHS indexer, which is structured in the form of a blockchain, and we call it Inscription Chain. Dependence on Chia Network as the mainchain, consensus, security, and final confirmation will be provided by mainchain to the Inscription Chain. The XCHS indexer will act like Layer 2, but with a unique features that Chia is difficult to provide. Unlike typical Layer 2 implementation, all transactions are directly submitted to the mainchain instead of being aggregated by Layer 2. With this model, sometimes referred to as Layer 1.5, offers heightened security superior to Layer 2, and flexibility superior to Layer 1.</p>
<p>The Inscription Chain will incorporate an account model as its intrinsic ledger model. Such an implementation offers Chia a unique bolstering effect, laying the groundwork for versatile and feature-rich smart contracts.</p>
<p><img src="xsip/./xsip-2-chain.drawio.svg" alt="" /></p>
<p>From a technical view, the Inscription Chain will utilize Chia's Reward Chain to generate blocks. Each block is structured according to the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Data Type</th><th>Description</th></tr></thead><tbody>
<tr><td>Version</td><td>UInt16</td><td>Version information pertaining to the block generation rules.</td></tr>
<tr><td>PrevBlockHash</td><td>UInt256</td><td>Hash of the previous block in Inscription Chain</td></tr>
<tr><td>InfusionBlockHash</td><td>UInt256</td><td>Reference to the hash of the Chia reward chain block hash.</td></tr>
<tr><td>InfusionBlockHeight</td><td>UInt64</td><td>Indication of the height of the Chia reward chain from the genesis block.</td></tr>
<tr><td>WorldStateRoot</td><td>UInt256</td><td>Hash representing the state of the blockchain after applying transactions in the block.</td></tr>
<tr><td>TransactionRoot</td><td>UInt256</td><td>Root hash of the tree containing all transactions included in the block.</td></tr>
<tr><td>CoinRoot</td><td>UInt256</td><td>Root hash of the tree containing all spent coins included in the block.</td></tr>
</tbody></table>
</div>
<ul>
<li>WorldStateRoot: Patricia Merkle Tree (hex tree) Root with SHA256 Hash</li>
<li>TransactionRoot: Merkle Tree (binary tree) Root with SHA256 Hash</li>
<li>CoinRoot: Merkle Tree (binary tree) Root with SHA256 Hash</li>
</ul>
<h2 id="rationale"><a class="header" href="#rationale">Rationale</a></h2>
<p>Various models for indexing are currently being utilized - centralized and open-sourced, multiple central providers with cross-verification. The inherent issues tied to these prior solutions necessitate a shift towards a truly decentralized indexing model. This model ensures data consistency and security, agility in protocol upgrades, and eases the indexing setup for ecosystem developers. Furthermore, this deters potential collusion among a few indexers. These considerations guide the design and adoption of a comprehensive decentralized indexing system.</p>
<p>In considering the techniques to implement decentralized indexing, inspiration comes from the inherent breakthrough that blockchain technology has offered. Constructing a sidechain could lay the groundwork for achieving decentralized indexing in a secure and expedient manner. This approach would allow the inscription data to be auditable and even reach consensus within the decentralized network, ultimately providing final confirmation ability. This notable feature leans into the primary advantage that blockchain provides ‚Äî transparency and auditability, thereby heightening trust in the overall system.</p>
<h2 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h2>
<p>Adopting a decentralized indexing system improves security considerations in the following ways:</p>
<ol>
<li>It dispels the potential for concentrated collusion that can jeopardize data integrity.</li>
<li>It encourages diverse participation, thereby diluting the risk pool.</li>
<li>It's equipped with a standardized and open-source code that makes for straightforward checks and calibration, and low chance of bugs and vulnerabilities.</li>
</ol>
<p>However, transitioning to this new model should be undertaken with care, ensuring meticulous testing and verification and observing potential unforeseen threats and risks. Any implementation must maintain a strong focus on preserving data security in all stages of the indexing process.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xsip-3-flexible-smart-contract"><a class="header" href="#xsip-3-flexible-smart-contract">XSIP-3: Flexible Smart Contract</a></h1>
<p><strong>WIP</strong></p>
<h2 id="abstract-1"><a class="header" href="#abstract-1">Abstract</a></h2>
<p>TBD</p>
<h2 id="motivation-1"><a class="header" href="#motivation-1">Motivation</a></h2>
<p>The Account Model presents several advantages over the UTXO Model. Here are some primary ones:</p>
<ol>
<li>
<p><strong>Simpler State Representation</strong>: The account model directly maintains account balances and smart contract states. This is more intuitive and easier to understand compared to UTXO's system of tracking unspent transaction outputs.</p>
</li>
<li>
<p><strong>Smart Contract Flexibility</strong>: The Account Model, gives much more power and flexibility to developers. Allowing for more complex processes and applications to be created.</p>
</li>
<li>
<p><strong>Reduced Space Complexity</strong>: Accounts model only needs to keep track of the final state of accounts (each account's balance and associated smart contracts), while UTXO model has to maintain all the unspent transaction outputs across the entire network.</p>
</li>
<li>
<p><strong>Ease of Transaction Writing</strong>: In the UTXO model, a transaction has to consume all the funds held in a UTXO, and if not all funds are spent, a change address must be specified. Whereas, in the Account Model, funds can be transferred directly from one account to another without the need to consume all the funds all at once.</p>
</li>
</ol>
<h2 id="specification-1"><a class="header" href="#specification-1">Specification</a></h2>
<p>TBD</p>
<h2 id="rationale-1"><a class="header" href="#rationale-1">Rationale</a></h2>
<p><strong>Programming Language</strong></p>
<p>TBD: Lisp with I/O Monad</p>
<h2 id="security-considerations-1"><a class="header" href="#security-considerations-1">Security Considerations</a></h2>
<p>TBD</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xsip-4-exchange-by-offer"><a class="header" href="#xsip-4-exchange-by-offer">XSIP-4: Exchange by Offer</a></h1>
<p><strong>WIP</strong></p>
<h2 id="abstract-2"><a class="header" href="#abstract-2">Abstract</a></h2>
<p>This proposal seeks to redefine and fine-tune Offer with new primitives that enhance both security and operability.
Offer permits decentralized trading of assets directly, utilizing a mechanism reminiscent of BRC20's design.
However, it can lead to irrevocable financial loss if implemented incorrectly, especially when interacted with incompatible wallets.
To address these issues, we propose three primitives: 'Inscribe', 'Transmit', and 'Reclaim'.
'Inscribe' is to bind a certain amount of funds to a created UTXO coin from the sender's balance. Once inscribed, the funds can only be moved using this specific coin.
'Transmit' offers the exclusive method of transmitting inscribed funds out of UTXO.
If improper construction occurs, funds can only be reclaimed through a 'Reclaim' operation.
This XSIP aims to maximize Offer's potential, mitigate the risk of loss, and increase users' control over their funds by providing the ability to rectify mistakes and reclaim lost funds.</p>
<h2 id="motivation-2"><a class="header" href="#motivation-2">Motivation</a></h2>
<p>Offer is a unique feature provided by Chia, allowing direct asset trades with others in a decentralized manner. For instance, we can put forth an offer inviting someone to trade their Chia for our new token, which then can be accepted by any party.</p>
<p>When it comes to inscription trading within the context of offers, security is achieved by binding a specific amount of inscription tokens to one UTXO coin. In essence, the inscription token can be transferred only when the UTXO coin is spent. This design ethos is reminiscent of the BRC20 protocol. However, the BRC20 protocol reveals a significant shortcoming: if the spending is improperly constructed, such as by an incompatible wallet, the funds may be irretrievably lost.</p>
<p>Therefore, within this XSIP, we propose defining two primitives, reminiscent of BRC20's two-stage transfer. Importantly, we introduce an additional primitive to reclaim funds that may be lost due to incorrectly structured spent coins. In doing so, we aim to not just rectify existing issues but also to introduce new levels of flexibility and security to XCHS.</p>
<h2 id="specification-2"><a class="header" href="#specification-2">Specification</a></h2>
<p>Note: The fields <code>p</code>, <code>op</code>, <code>tick</code> will follow the definitions set by the base protocol and will not be further detailed herein.</p>
<h3 id="inscribe"><a class="header" href="#inscribe">Inscribe</a></h3>
<p>The 'Inscribe' operation entails allocating a specific amount of funds from the sender's balance to a created UTXO coin.
Following inscription, the fund amount will be relocated from a particular account to this UTXO coin, and subsequent operations to transmit these funds can only utilize this coin.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'inscribe',
  'tick': 'xchs',
  'amt': '1000'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>amt</td><td>Yes</td><td>Amount to inscribe: Amount of the XCHS to inscribe to target coin</td></tr>
</tbody></table>
</div>
<h3 id="transmit"><a class="header" href="#transmit">Transmit</a></h3>
<p>'Transmit' signifies the exclusive method to extract funds from the inscribed UTXO coin.
If an inscription instruction is incorrectly constructed and the coin is spent, the <code>reclaim</code> operation stands as the sole avenue to retrieve your funds.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'transmit',
  'tick': 'xchs'
}
</code></pre>
<h3 id="reclaim"><a class="header" href="#reclaim">Reclaim</a></h3>
<p>'Reclaim' operation aids in recovering your funds if the inscribed coin is spent without the correct inscription instruction.
Although this operation is heavy, it ensures the safety of your funds from unsophisticated wallet software execution.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'reclaim',
  'tick': 'xchs',
  'coin': 'fca28aa50c89aaa5f7dc40b7f94e1635d070c9f83be52a2f2be0bf9bf8617285',
  'height': '4700101',
  'idx': '456',
  'path': [
    'e98be068d742b009af509f807d1b6a00a36b73a88aeb074ab40750eb66101aa0',
    '60c20d176b7901447a618e5269c69402a5b5d09e4a7ec7402ff568f2138ee46e',
    '60b9bcaca73d68f3288b9aeec079b165d744bc636e71caa1e8ea1003dbeeee6d',
    '02055edbd965f9d49fd95e1822249a9efdb6d9ff4c1e1c71d428656193577b77',
    '5857bd486c4bdcc437a73f77c2245db81da518197d4d0c2cc5f0965ad22c6635'
  ]
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>coin</td><td>Yes</td><td>the coin which is spent and still hold inscribed funds</td></tr>
<tr><td>height</td><td>Yes</td><td>the block height where the spent coin is located</td></tr>
<tr><td>idx</td><td>Yes</td><td>the index of the spent coin within the merkle tree</td></tr>
<tr><td>path</td><td>Yes</td><td>the path to prove the coin's inclusion within the merkle tree</td></tr>
</tbody></table>
</div>
<h2 id="rationale-2"><a class="header" href="#rationale-2">Rationale</a></h2>
<h3 id="transfer-vs-inscribe"><a class="header" href="#transfer-vs-inscribe">Transfer vs Inscribe</a></h3>
<p>Within the BRC20 protocol, users are required to execute a 'transfer' twice.
Initially, they transfer to their account in preparation, followed by a genuine transfer to a specific recipient.
XCHS circumvents this double-transfer necessity by using the account model, but the downside is that peer-to-peer trading, like Offer mechanism, cannot exclusively guarantee successful trading.
Thus, the two-stage 'transfer' is still a requirement.
However, XCHS has endowed 'transfer' with the notion of a straightforward fund transfer, which is why we've designed this XSIP with a two-stage 'transfer', embodied in the <code>inscribe</code> and <code>transmit</code> operations.</p>
<h2 id="security-considerations-2"><a class="header" href="#security-considerations-2">Security Considerations</a></h2>
<h3 id="offer"><a class="header" href="#offer">Offer</a></h3>
<p>Offer is a mechanism provided by the Chia Network, designed to ensure a trade only occurs when both parties requirements are satisfied. To ensure this mechanism's seamless operation with XCHS, under the account model, we propose this XSIP to secure the inscription's binding to a specific coin.</p>
<h3 id="funds-loss"><a class="header" href="#funds-loss">Funds loss</a></h3>
<p>In BRC20, fund losses occasionally occur, especially when an incompatible wallet is handling these funds.
Users were expected to absorb these losses with no chance to reclaim them.
This vulnerability led to the design of the reclaim operation.
The reclaim operation equips users with a tool to address such situations and guard against unnecessary losses.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="about-us"><a class="header" href="#about-us">About Us</a></h1>
<p>Unimojo is the initiator and proponent of XCHS, having built the first inscription and trading platform on the XCHS protocol.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="mermaid.min.js"></script>
        <script type="text/javascript" src="mermaid-init.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
