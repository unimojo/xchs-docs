<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>XSIP-5: Staked Indexer Committee - XCHS White Paper</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../how/index.html"><strong aria-hidden="true">2.</strong> How It Works</a></li><li class="chapter-item expanded "><a href="../how/inscribe.html"><strong aria-hidden="true">3.</strong> How to Inscribe</a></li><li class="chapter-item expanded "><a href="../how/burn.html"><strong aria-hidden="true">4.</strong> How to 'Burn' It</a></li><li class="chapter-item expanded "><a href="../ops/index.html"><strong aria-hidden="true">5.</strong> Operations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ops/deploy.html"><strong aria-hidden="true">5.1.</strong> Deploy</a></li><li class="chapter-item expanded "><a href="../ops/mint.html"><strong aria-hidden="true">5.2.</strong> Mint</a></li><li class="chapter-item expanded "><a href="../ops/transfer.html"><strong aria-hidden="true">5.3.</strong> Transfer</a></li></ol></li><li class="chapter-item expanded "><a href="../xsip/index.html"><strong aria-hidden="true">6.</strong> XSIP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../xsip/xsip-1-proposal.html"><strong aria-hidden="true">6.1.</strong> XSIP-1: XCHS Improvement Proposal</a></li><li class="chapter-item expanded "><a href="../xsip/xsip-2-indexer.html"><strong aria-hidden="true">6.2.</strong> XSIP-2: Decentralized Indexer</a></li><li class="chapter-item expanded "><a href="../xsip/xsip-3-smart-contract.html"><strong aria-hidden="true">6.3.</strong> XSIP-3: Flexible Smart Contract</a></li><li class="chapter-item expanded "><a href="../xsip/xsip-4-exchange-by-offer.html"><strong aria-hidden="true">6.4.</strong> XSIP-4: Exchange by Offer</a></li><li class="chapter-item expanded "><a href="../xsip/xsip-5-staked-indexer-committee.html" class="active"><strong aria-hidden="true">6.5.</strong> XSIP-5: Staked Indexer Committee</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../misc/about.html"><strong aria-hidden="true">7.</strong> About Us</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">XCHS White Paper</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="xsip-5-staked-indexer-committee"><a class="header" href="#xsip-5-staked-indexer-committee">XSIP-5: Staked Indexer Committee</a></h1>
<p><strong>DRAFT</strong></p>
<h2 id="abstract"><a class="header" href="#abstract">Abstract</a></h2>
<h2 id="motivation"><a class="header" href="#motivation">Motivation</a></h2>
<p>The parsing of inscription protocols like BRC20 is plagued by significant obstacles, making the effective interpretation and use of these protocols complex:</p>
<ol>
<li>
<p><strong>Centralization and Complexity</strong>: The majority of parsing realized under the current design is considerably centralized, leading to unnecessary costs and complications in maintaining data consistency, which necessitates frequent reconciliation checks.</p>
</li>
<li>
<p><strong>Difficulty in Achieving Consensus</strong>: Inscription protocols at the core are agreements of off-chain consensus. The task of incentivizing off-chain entities to achieve such consensus is challenging. Thus, a deterministic approach to reach consensus is indispensable.</p>
</li>
<li>
<p><strong>Limitations on Protocol Evolving</strong>: When initiating or updating inscription protocols, issuers tend to either independently craft complex parsing service codes or lean heavily on alliances with current parsing entities. This leads to protocol upgrades requiring extensive communication between parsing entities to reach consensus.</p>
</li>
</ol>
<p>That is to say, a mechanism dedicated to facilitating consensus among off-chain parsing entities is extremely necessary. Therefore, this XSIP proposes the establishment of the Staked Indexer Committee, a committee established depend on XSIP-2 decentralized indexing for achieving decentralized off-chain consensus.</p>
<h2 id="specification"><a class="header" href="#specification">Specification</a></h2>
<h3 id="committee"><a class="header" href="#committee">Committee</a></h3>
<p>The Committee is comprised of multiple parsing entities. Whether or not they use the same codebase for generating the inscription chain, they should reach consensus along the main chain.</p>
<p>With XSIP-2 already implementing the software for generating inscription chain blocks, what Committee members need to do is to keep the block producer running. The software should then report each member's latest status to each other.</p>
<p>Moreover, if the software deems a member is in mal-operation, it would vote for a slash of that member.</p>
<p>As one may imagine, to join the committee, a certain amount of staked funds is required, which would be slashed if mal-operation continues for a period of time. Also, incentives should be provided for every successfully generated block.</p>
<h3 id="operations"><a class="header" href="#operations">Operations</a></h3>
<p>We designed the operation protocol with universality in mind.
Where we place the operations can be determined later, with considerations being found in the Rationale section.</p>
<h4 id="join"><a class="header" href="#join">Join</a></h4>
<p>Ask to join the block producer network with certain amount to stake and its public key registered.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'join',
  'amt': '1000000',
  'pubkey': 'b976ead8b3fe50d6813d6073cc161fc020f399fc7789e55c0da944ad8b5d04da418159e5dc40e492258baf2ca5123278'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>amt</td><td>Yes</td><td></td></tr>
<tr><td>pubkey</td><td>Yes</td><td>BLS public key</td></tr>
</tbody></table>
</div>
<h4 id="report"><a class="header" href="#report">Report</a></h4>
<p>Report the hash at specific height by the block producer.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'report',
  'height': '4800000',
  'hash': '02055edbd965f9d49fd95e1822249a9efdb6d9ff4c1e1c71d428656193577b77'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>height</td><td>Yes</td><td>report height</td></tr>
<tr><td>hash</td><td>Yes</td><td>report hash of specific height</td></tr>
</tbody></table>
</div>
<h4 id="vote-slash"><a class="header" href="#vote-slash">Vote-Slash</a></h4>
<p>Vote to slash certain block producer with public key in ripemd160 encoding, accuse it mal-behavior at specific height, with signature from block producer.</p>
<pre><code class="language-js">{
  'p': 'xchs',
  'op': 'slash',
  'height': '4801234',
  'pubkey': 'ec206ed55d2c47843d2defaba41e869a8572897e',
  'sig': '998899f4edfef5a4a44874c862bd841ce7bd60c97b741a3c0d8243e95a05479e319a94a8fe65b7e3f9384e06b135192f14db7a03bb78929db3105482b54551025b592f81cb7d2535c7ce5e6b1a442feaf7e0da197c829cc34bdb2655af65b32a'
}
</code></pre>
<div class="table-wrapper"><table><thead><tr><th>Key</th><th>Required?</th><th>Description</th></tr></thead><tbody>
<tr><td>height</td><td>Yes</td><td>height that is mal-behavior</td></tr>
<tr><td>pubkey</td><td>Yes</td><td>the pubkey in ripemd160 encoding which is mal-behavior</td></tr>
<tr><td>sig</td><td>Yes</td><td>the signature provided who is accusing other is mal-behavior</td></tr>
</tbody></table>
</div>
<h3 id="incentive"><a class="header" href="#incentive">Incentive</a></h3>
<p>The specifics of incentives are beyond the scope of this proposal and are subject to change according to the circumstances that prevail at that time.</p>
<p>However, to make the incentive system work, a special token would be issued. This token would support unlimited minting, but only allow minting when a block is successfully generated and included in the chain.</p>
<h2 id="rationale"><a class="header" href="#rationale">Rationale</a></h2>
<h3 id="operations-main-chain-vs-inscription-chain-vs-off-chain"><a class="header" href="#operations-main-chain-vs-inscription-chain-vs-off-chain">Operations: Main Chain vs Inscription Chain vs Off-chain</a></h3>
<h2 id="security-considerations"><a class="header" href="#security-considerations">Security Considerations</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../xsip/xsip-4-exchange-by-offer.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../misc/about.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../xsip/xsip-4-exchange-by-offer.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../misc/about.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="../mermaid.min.js"></script>
        <script type="text/javascript" src="../mermaid-init.js"></script>
    </body>
</html>
